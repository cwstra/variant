<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Atom Feed"><title data-react-helmet="true">Creating Variants | Variant</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://paarthenon.github.io/variant/docs/next/book/creation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Creating Variants | Variant"><meta data-react-helmet="true" name="description" content="Variant aims to give the user complete control over how their objects are created. A variant&#x27;s constructor may perform side effects, rely on asynchronous information, or generate objects of any kind."><meta data-react-helmet="true" property="og:description" content="Variant aims to give the user complete control over how their objects are created. A variant&#x27;s constructor may perform side effects, rely on asynchronous information, or generate objects of any kind."><link data-react-helmet="true" rel="shortcut icon" href="/variant/img/variant.ico"><link data-react-helmet="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/next/book/creation"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/next/book/creation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/next/book/creation" hreflang="x-default"><link rel="stylesheet" href="/variant/assets/css/styles.8f6f238e.css">
<link rel="preload" href="/variant/assets/js/runtime~main.5a021830.js" as="script">
<link rel="preload" href="/variant/assets/js/main.8f3eed5b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><div class="navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/variant/docs/next/intro">3.0.0-dev ðŸ”¨</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/next/book/creation">3.0.0-dev ðŸ”¨</a></li><li><a class="dropdown__link" href="/variant/docs/intro">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">â˜• API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒ’</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒ”</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Tutorial</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/tutorial/part-zero">Introducing &quot;Kind of Super&quot;</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">The Book</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/next/book/creation">Creating Variants</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Fancier Variants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/inspection">Inspection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/organization">Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/match">Match</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/matcher">Matcher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/catalog">Catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/flags">Flags and Matrix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/next/book/utilities">Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Articles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/todo">Todo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/glossary">ðŸ“‘ Glossary of Terms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/variant/docs/next/api/modules">â˜• API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Variant<!-- --> <b>3.0.0-dev ðŸ”¨</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/variant/docs/intro">latest version</a></b> (<!-- -->2.1.0<!-- -->).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->3.0.0-dev ðŸ”¨</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Creating Variants</h1></header><p>Variant aims to give the user complete control over how their objects are created. A variant&#x27;s constructor may perform side effects, rely on asynchronous information, or generate objects of any kind.</p><p>A call to <code>variant()</code> must be accompanied by a <strong>template</strong> that expresses the possibilities of the variant. This template may be given as an object or an array.</p><blockquote><h4 class="anchor anchorWithStickyNavbar_31ik" id="object-templates">Object Templates<a aria-hidden="true" class="hash-link" href="#object-templates" title="Direct link to heading">â€‹</a></h4><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp>: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>When given an object template, <code>variant()</code> will treat each property as one of the variations. The property&#x27;s label will become the type and the value will be used to create a  factory function.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="array-templates">Array Templates<a aria-hidden="true" class="hash-link" href="#array-templates" title="Direct link to heading">â€‹</a></h4><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Suit: {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;&quot;Hearts&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Clubs: VariantCreator&lt;&quot;Clubs&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
}">Suit</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;&quot;Spades&quot; | &quot;Hearts&quot; | &quot;Clubs&quot; | &quot;Diamonds&quot;&gt;(template: (&quot;Spades&quot; | &quot;Hearts&quot; | &quot;Clubs&quot; | &quot;Diamonds&quot;)[]): {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;...&gt;;
    Clubs: VariantCreator&lt;...&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;Spades&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Hearts&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Clubs&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Diamonds&#x27;</span><span style="color:#D6DBDB">]);</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Suit = {
    type: &quot;Spades&quot;;
} | {
    type: &quot;Hearts&quot;;
} | {
    type: &quot;Clubs&quot;;
} | {
    type: &quot;Diamonds&quot;;
}">Suit</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Suit: {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;&quot;Hearts&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Clubs: VariantCreator&lt;&quot;Clubs&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
}">Suit</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Suit: {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;&quot;Hearts&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Clubs: VariantCreator&lt;&quot;Clubs&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
}">Suit</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;&quot;Spades&quot; | &quot;Hearts&quot; | &quot;Clubs&quot; | &quot;Diamonds&quot;&gt;(template: (&quot;Spades&quot; | &quot;Hearts&quot; | &quot;Clubs&quot; | &quot;Diamonds&quot;)[]): {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;...&gt;;
    Clubs: VariantCreator&lt;...&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Spades</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hearts</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Clubs</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Diamonds</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Suit = {
    type: &quot;Spades&quot;;
} | {
    type: &quot;Hearts&quot;;
} | {
    type: &quot;Clubs&quot;;
} | {
    type: &quot;Diamonds&quot;;
}">Suit</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Suit: {
    Spades: VariantCreator&lt;&quot;Spades&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Hearts: VariantCreator&lt;&quot;Hearts&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Clubs: VariantCreator&lt;&quot;Clubs&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    Diamonds: VariantCreator&lt;...&gt;;
}">Suit</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>In the array template, each element must be a string literal (which will become the empty variant <code>{type: T extends string})</code>, or a call to <code>variation()</code>, like so:</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;&quot;RefreshAnimals&quot; | &quot;StartGame&quot; | VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}, &quot;type&quot;&gt;&gt;(template: (&quot;RefreshAnimals&quot; | ... 1 more ... | VariantCreator&lt;...&gt;)[]): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#63A5A5">&#x27;RefreshAnimals&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#63A5A5">&#x27;StartGame&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variation&lt;&quot;RescueAnimal&quot;, (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}&gt;(type: &quot;RescueAnimal&quot;, creator?: ((payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}) | undefined): VariantCreator&lt;...&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;RescueAnimal&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1"><data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}&gt;(_example?: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 2 more ... | undefined): (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}
import payload">payload</data-lsp></span><span style="color:#D6DBDB">&lt;<data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">])</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Action = {
    type: &quot;RefreshAnimals&quot;;
} | {
    type: &quot;StartGame&quot;;
} | {
    type: &quot;RescueAnimal&quot;;
    payload: {
        ...;
    } | {
        ...;
    } | {
        ...;
    };
}">Action</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;&quot;RefreshAnimals&quot; | &quot;StartGame&quot; | VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}, &quot;type&quot;&gt;&gt;(template: (&quot;RefreshAnimals&quot; | ... 1 more ... | VariantCreator&lt;...&gt;)[]): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">RefreshAnimals</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">StartGame</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(alias) variation&lt;&quot;RescueAnimal&quot;, (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}&gt;(type: &quot;RescueAnimal&quot;, creator?: ((payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}) | undefined): VariantCreator&lt;...&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">RescueAnimal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, <data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}&gt;(_example?: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 2 more ... | undefined): (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}
import payload">payload</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp></span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Action = {
    type: &quot;RefreshAnimals&quot;;
} | {
    type: &quot;StartGame&quot;;
} | {
    type: &quot;RescueAnimal&quot;;
    payload: {
        ...;
    } | {
        ...;
    } | {
        ...;
    };
}">Action</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></blockquote><p>The object notation is recommended most of the time. The array notation is more convenient when most members of the variant are simple types with no data, but the object notation is a little clearer to read and will <a href="/variant/docs/next/articles/documentation">forward documentation on the template down to the final constructors and interfaces</a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="defining-bodies">Defining Bodies<a aria-hidden="true" class="hash-link" href="#defining-bodies" title="Direct link to heading">â€‹</a></h2><p>The body of a variantâ€”the shape of the data carried by some particular formâ€”is defined by a function. More specifically, it is defined by that function&#x27;s return value. In our snake example from earlier, we returned an object containing the properties <code>name</code> and <code>pattern</code>, which we sourced from our inputs. </p><p>When a variant is defined, it wraps the body of the function it receives into a new function. That new variant creator has the same inputs, and <em>almost</em> the same output (it merges in the <code>type</code> property).</p><p>Most of the time we will use helper functions like <code>payload()</code> or <code>fields()</code>, not because they increase our capabilities, but because they streamline how we think about and manage our domain.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>On Functions</h5></div><div class="admonition-content"><p>The beautiful thing about using a function as the definition of a variant is that it is both the simplest option and the nuclear option. Functions are capable of</p><ul><li>zero, one, multiple, <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#optional-parameters" target="_blank" rel="noopener noreferrer">optional/default</a>, and <a href="https://en.wikipedia.org/wiki/Variadic_function" target="_blank" rel="noopener noreferrer">variadic</a> parameters. </li><li>arbitrary processing logic like validation.</li><li>asynchronous calls.</li><li>side effects like logging.</li><li>referencing <a href="https://basarat.gitbook.io/typescript/recap/closure" target="_blank" rel="noopener noreferrer">closures</a>.</li></ul><p>Adding to that power, the objects they return may contain internal state, methods, and property accessors. In the few cases that isn&#x27;t sufficient variants can also be generated from full classes with <code>construct()</code>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="for-empty-bodies">For empty bodies<a aria-hidden="true" class="hash-link" href="#for-empty-bodies" title="Direct link to heading">â€‹</a></h3><p>To express a case that has no data, use <code>nil</code>, or <code>{}</code>. Pick whichever speaks to you.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    RefreshAnimals: {};
    StartGame: () =&gt; {};
    RescueAnimal: (payload: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    } | {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    } | {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; {
        ...;
    };
}&gt;(template: {
    RefreshAnimals: {};
    StartGame: () =&gt; {};
    RescueAnimal: (payload: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    } | {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    } | {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) RefreshAnimals: {}">RefreshAnimals</data-lsp>: {},</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) StartGame: () =&gt; {}">StartGame</data-lsp>: </span><span style="color:#FFFFFF"><data-lsp lsp="Template to create an empty variation (`{type: &#x27;literal&#x27;}`).

(alias) const nil: () =&gt; {}
import nil">nil</data-lsp></span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) RescueAnimal: (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    payload: {
        ...;
    } | {
        ...;
    } | {
        ...;
    };
}">RescueAnimal</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}&gt;(_example?: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | undefined): (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}
import payload">payload</data-lsp></span><span style="color:#D6DBDB">&lt;<data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp>&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Action: {
    RefreshAnimals: VariantCreator&lt;&quot;RefreshAnimals&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    StartGame: VariantCreator&lt;&quot;StartGame&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    RescueAnimal: VariantCreator&lt;&quot;RescueAnimal&quot;, (payload: {
        ...;
    } | ... 1 more ... | {
        ...;
    }) =&gt; {
        ...;
    }, &quot;type&quot;&gt;;
}">Action</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    RefreshAnimals: {};
    StartGame: () =&gt; {};
    RescueAnimal: (payload: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    } | {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    } | {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; {
        ...;
    };
}&gt;(template: {
    RefreshAnimals: {};
    StartGame: () =&gt; {};
    RescueAnimal: (payload: {
        type: &quot;cat&quot;;
        name: string;
        furnitureDamaged: number;
    } | {
        type: &quot;dog&quot;;
        name: string;
        favoriteBall?: string | undefined;
    } | {
        type: &quot;snake&quot;;
        name: string;
        pattern: string;
    }) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) RefreshAnimals: {}">RefreshAnimals</data-lsp>: {},</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) StartGame: () =&gt; {}">StartGame</data-lsp>: </span><span style="color:#F56565"><data-lsp lsp="Template to create an empty variation (`{type: &#x27;literal&#x27;}`).

(alias) const nil: () =&gt; {}
import nil">nil</data-lsp></span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) RescueAnimal: (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    payload: {
        ...;
    } | {
        ...;
    } | {
        ...;
    };
}">RescueAnimal</data-lsp>: <data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;{
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}&gt;(_example?: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
} | undefined): (payload: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | ... 1 more ... | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}) =&gt; {
    ...;
}
import payload">payload</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp></span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Some syntax highlighters will interpret <code>{}</code> as a block and change the color of the key. If this bothers you, use <code>nil</code></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="for-one-piece-of-data">For one piece of data<a aria-hidden="true" class="hash-link" href="#for-one-piece-of-data" title="Direct link to heading">â€‹</a></h3><p>Use <code>payload&lt;T&gt;()</code>, <em>or</em> use a simple function to retain the name.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) function payload&lt;T&gt;(_example?: T | undefined): (payload: T) =&gt; {
    payload: T;
}
import payload">payload</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Something: {
    first: VariantCreator&lt;&quot;first&quot;, (payload: string) =&gt; {
        payload: string;
    }, &quot;type&quot;&gt;;
    second: VariantCreator&lt;&quot;second&quot;, (label: string) =&gt; {
        label: string;
    }, &quot;type&quot;&gt;;
}">Something</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    first: (payload: string) =&gt; {
        payload: string;
    };
    second: (label: string) =&gt; {
        label: string;
    };
}&gt;(template: {
    first: (payload: string) =&gt; {
        payload: string;
    };
    second: (label: string) =&gt; {
        label: string;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) first: (payload: string) =&gt; {
    payload: string;
}">first</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;string&gt;(_example?: string | undefined): (payload: string) =&gt; {
    payload: string;
}
import payload">payload</data-lsp></span><span style="color:#D6DBDB">&lt;</span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) second: (label: string) =&gt; {
    label: string;
}">second</data-lsp></span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) label: string">label</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) label: string">label</data-lsp></span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Something = {
    type: &quot;first&quot;;
    payload: string;
} | {
    type: &quot;second&quot;;
    label: string;
}" style="border-bottom:solid 2px lightgrey">Something</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Something: {
    first: VariantCreator&lt;&quot;first&quot;, (payload: string) =&gt; {
        payload: string;
    }, &quot;type&quot;&gt;;
    second: VariantCreator&lt;&quot;second&quot;, (label: string) =&gt; {
        label: string;
    }, &quot;type&quot;&gt;;
}">Something</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div><div class="meta-line"><span class="popover-prefix">        </span><span class="popover"><div class="arrow"></div>type Something = {
    type: &quot;first&quot;;
    payload: string;
} | {
    type: &quot;second&quot;;
    label: string;
}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) function payload&lt;T&gt;(_example?: T | undefined): (payload: T) =&gt; {
    payload: T;
}
import payload">payload</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Something: {
    first: VariantCreator&lt;&quot;first&quot;, (payload: string) =&gt; {
        payload: string;
    }, &quot;type&quot;&gt;;
    second: VariantCreator&lt;&quot;second&quot;, (label: string) =&gt; {
        label: string;
    }, &quot;type&quot;&gt;;
}">Something</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    first: (payload: string) =&gt; {
        payload: string;
    };
    second: (label: string) =&gt; {
        label: string;
    };
}&gt;(template: {
    first: (payload: string) =&gt; {
        payload: string;
    };
    second: (label: string) =&gt; {
        label: string;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) first: (payload: string) =&gt; {
    payload: string;
}">first</data-lsp>: <data-lsp lsp="Take a single variable of type T and store as &#x27;payload&#x27;

(alias) payload&lt;string&gt;(_example?: string | undefined): (payload: string) =&gt; {
    payload: string;
}
import payload">payload</data-lsp></span><span style="color:#A8A8B1">&lt;string&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) second: (label: string) =&gt; {
    label: string;
}">second</data-lsp>: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) label: string">label</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) label: string">label</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Something = {
    type: &quot;first&quot;;
    payload: string;
} | {
    type: &quot;second&quot;;
    label: string;
}" style="border-bottom:solid 2px lightgrey">Something</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Something: {
    first: VariantCreator&lt;&quot;first&quot;, (payload: string) =&gt; {
        payload: string;
    }, &quot;type&quot;&gt;;
    second: VariantCreator&lt;&quot;second&quot;, (label: string) =&gt; {
        label: string;
    }, &quot;type&quot;&gt;;
}">Something</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="meta-line"><span class="popover-prefix">        </span><span class="popover"><div class="arrow"></div>type Something = {
    type: &quot;first&quot;;
    payload: string;
} | {
    type: &quot;second&quot;;
    label: string;
}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_31ik" id="for-one-or-more-named-fields">For one or more named fields<a aria-hidden="true" class="hash-link" href="#for-one-or-more-named-fields" title="Direct link to heading">â€‹</a></h3><p>The <code>fields&lt;T&gt;()</code> function from earlier allows us to do this.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB"> </span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1"><data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF"> </span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}">dog</data-lsp>: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}">snake</data-lsp>: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type Animal = {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
} | {
    type: &quot;dog&quot;;
    name: string;
    favoriteBall?: string | undefined;
} | {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_31ik" id="for-classes">For classes<a aria-hidden="true" class="hash-link" href="#for-classes" title="Direct link to heading">â€‹</a></h3><p>Use <code>construct()</code> to work with classes. This function can accept anonymous class definitions, or work with previously defined classes in-scope to support <code>instanceof</code> checks down the road. Let&#x27;s make a class-based dog with some internal state</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">class</span><span style="color:#D6DBDB"> <data-lsp lsp="class Dog">Dog</data-lsp> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#C24E4B">constructor</span><span style="color:#D6DBDB">(</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">private</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(property) Dog.barkVolume: number">barkVolume</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span></div><div class="line"><span style="color:#D6DBDB">    ) { }</span></div><div class="line">Â </div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">public</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(method) Dog.bark(): void">bark</data-lsp></span><span style="color:#D6DBDB">() {</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#506565">// can access class members.</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const msg: &quot;BARK&quot; | &quot;bark&quot;">msg</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> this.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) Dog.barkVolume: number">barkVolume</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">5</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">?</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;BARK&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;bark&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF"><data-lsp lsp="var console: Console">console</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1"><data-lsp lsp="(method) Console.log(...data: any[]): void">log</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="const msg: &quot;BARK&quot; | &quot;bark&quot;">msg</data-lsp></span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">    }</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">class</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="class Dog">Dog</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">constructor</span><span style="color:#A8A8B1">(</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">private</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(property) Dog.barkVolume: number">barkVolume</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">}</span></div><div class="line">Â </div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">public</span><span style="color:#FFFFFF"> <data-lsp lsp="(method) Dog.bark(): void">bark</data-lsp></span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> can access class members.</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const msg: &quot;BARK&quot; | &quot;bark&quot;">msg</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">this</span><span style="color:#FFFFFF">.<data-lsp lsp="(property) Dog.barkVolume: number">barkVolume</data-lsp> </span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">5</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">?</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">BARK</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">bark</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565"><data-lsp lsp="var console: Console">console</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(method) Console.log(...data: any[]): void">log</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="const msg: &quot;BARK&quot; | &quot;bark&quot;">msg</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">}</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>This class can be incorporated in our new version of <code>Animal</code>.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    dog: (barkVolume: number) =&gt; Dog;
    cat: () =&gt; (Anonymous class);
    snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class);
}&gt;(template: {
    dog: (barkVolume: number) =&gt; Dog;
    cat: () =&gt; (Anonymous class);
    snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class);
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line highlight"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: (barkVolume: number) =&gt; Dog">dog</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) construct&lt;typeof Dog&gt;(cls: typeof Dog): (barkVolume: number) =&gt; Dog
import construct">construct</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF"><data-lsp lsp="class Dog">Dog</data-lsp></span><span style="color:#D6DBDB">),</span></div><div class="line dim"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: () =&gt; (Anonymous class)">cat</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) construct&lt;typeof (Anonymous class)&gt;(cls: typeof (Anonymous class)): () =&gt; (Anonymous class)
import construct">construct</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#C24E4B">class</span><span style="color:#D6DBDB"> {</span></div><div class="line dim"><span style="color:#D6DBDB">        </span><span style="color:#9BB7A7">public</span><span style="color:#D6DBDB"> <data-lsp lsp="(property) (Anonymous class).furnitureDamaged: number">furnitureDamaged</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#4EADAD">0</span><span style="color:#D6DBDB">;</span></div><div class="line dim"><span style="color:#D6DBDB">    }),</span></div><div class="line dim"><span style="color:#D6DBDB">    <data-lsp lsp="(property) snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class)">snake</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) construct&lt;typeof (Anonymous class)&gt;(cls: typeof (Anonymous class)): (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class)
import construct">construct</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#C24E4B">class</span><span style="color:#D6DBDB"> {</span></div><div class="line dim"><span style="color:#D6DBDB">        </span><span style="color:#C24E4B">constructor</span><span style="color:#D6DBDB">(</span></div><div class="line dim"><span style="color:#D6DBDB">            </span><span style="color:#9BB7A7">private</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).color: string">color</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">,</span></div><div class="line dim"><span style="color:#D6DBDB">            </span><span style="color:#9BB7A7">private</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).isStriped: boolean">isStriped</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">boolean</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">false</span><span style="color:#D6DBDB">,</span></div><div class="line dim"><span style="color:#D6DBDB">        ) { }</span></div><div class="line dim">Â </div><div class="line dim"><span style="color:#D6DBDB">        </span><span style="color:#C24E4B">get</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(property) (Anonymous class).skin: string">skin</data-lsp></span><span style="color:#D6DBDB">() {</span></div><div class="line dim"><span style="color:#D6DBDB">            </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">${</span><span style="color:#D6DBDB">this.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).isStriped: boolean">isStriped</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">&amp;&amp;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped &#x27;</span><span style="color:#D6DBDB">}${</span><span style="color:#D6DBDB">this.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).color: string">color</data-lsp></span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">`</span><span style="color:#D6DBDB">;</span></div><div class="line dim"><span style="color:#D6DBDB">        }</span></div><div class="line dim"><span style="color:#D6DBDB">    })</span></div><div class="line dim"><span style="color:#D6DBDB">});</span></div><div class="line dim"><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> <data-lsp lsp="type ClassyAnimal = {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
} | {
    type: &quot;cat&quot;;
    furnitureDamaged: number;
} | {
    type: &quot;snake&quot;;
    readonly skin: string;
}">ClassyAnimal</data-lsp> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> <data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp>&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#D6DBDB">&gt;;</span></div><div class="line dim">Â </div><div class="line highlight"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const dog: {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1"><data-lsp lsp="(property) dog: (barkVolume: number) =&gt; {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#4EADAD">4</span><span style="color:#D6DBDB">);</span></div><div class="line highlight"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const isDog: boolean">isDog</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const dog: {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">instanceof</span><span style="color:#D6DBDB"> <data-lsp lsp="class Dog">Dog</data-lsp>; </span><span style="color:#506565">// true!</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    dog: (barkVolume: number) =&gt; Dog;
    cat: () =&gt; (Anonymous class);
    snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class);
}&gt;(template: {
    dog: (barkVolume: number) =&gt; Dog;
    cat: () =&gt; (Anonymous class);
    snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class);
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line highlight"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: (barkVolume: number) =&gt; Dog">dog</data-lsp>: <data-lsp lsp="(alias) construct&lt;typeof Dog&gt;(cls: typeof Dog): (barkVolume: number) =&gt; Dog
import construct">construct</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="class Dog">Dog</data-lsp></span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: () =&gt; (Anonymous class)">cat</data-lsp>: <data-lsp lsp="(alias) construct&lt;typeof (Anonymous class)&gt;(cls: typeof (Anonymous class)): () =&gt; (Anonymous class)
import construct">construct</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#A8A8B1">class</span><span style="color:#FFFFFF"> {</span></div><div class="line dim"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">public</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(property) (Anonymous class).furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">0</span><span style="color:#FFFFFF">;</span></div><div class="line dim"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class)">snake</data-lsp>: <data-lsp lsp="(alias) construct&lt;typeof (Anonymous class)&gt;(cls: typeof (Anonymous class)): (color: string, isStriped?: boolean | undefined) =&gt; (Anonymous class)
import construct">construct</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#A8A8B1">class</span><span style="color:#FFFFFF"> {</span></div><div class="line dim"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">constructor</span><span style="color:#A8A8B1">(</span></div><div class="line dim"><span style="color:#FFFFFF">            </span><span style="color:#A8A8B1">private</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(property) (Anonymous class).color: string">color</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">            </span><span style="color:#A8A8B1">private</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="(property) (Anonymous class).isStriped: boolean">isStriped</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">boolean</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">false</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> { }</span></div><div class="line dim">Â </div><div class="line dim"><span style="color:#FFFFFF">        </span><span style="color:#A8A8B1">get</span><span style="color:#FFFFFF"> <data-lsp lsp="(property) (Anonymous class).skin: string">skin</data-lsp></span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF"> {</span></div><div class="line dim"><span style="color:#FFFFFF">            </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">${</span><span style="color:#F56565">this</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).isStriped: boolean">isStriped</data-lsp></span><span style="color:#A8A8B1"> </span><span style="color:#A8A8B1">&amp;&amp;</span><span style="color:#A8A8B1"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">}${</span><span style="color:#F56565">this</span><span style="color:#A8A8B1">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) (Anonymous class).color: string">color</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">;</span></div><div class="line dim"><span style="color:#FFFFFF">        }</span></div><div class="line dim"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line dim"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line dim"><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="type ClassyAnimal = {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
} | {
    type: &quot;cat&quot;;
    furnitureDamaged: number;
} | {
    type: &quot;snake&quot;;
    readonly skin: string;
}">ClassyAnimal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="**Create a variant type**. Use as

```ts
export type SomeVariant&lt;T extends TypeNames&lt;typeof SomeVariant&gt; = undefined&gt; = VariantOf&lt;typeof SomeVariant, T&gt;;
```

This allows the type `SomeVariant` to represent the union and the type `SomeVariant&lt;&#x27;SomeType&#x27;&gt;` to capture
one specific variation.

### Minimal form
```ts
export type SomeVariant = VariantOf&lt;typeof SomeVariant&gt;;
```
Some users who prioritize brevity and do not mind using `Extract&lt;SomeVariant, Record&lt;&#x27;type&#x27;, &#x27;SomeType&#x27;&gt;&gt;` to
express a specific variation may prefer this simplified format.

(alias) type VariantOf&lt;T extends VariantModule&lt;string&gt;, TType = undefined&gt; = TType extends undefined ? Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt; : TType extends TypesOf&lt;T&gt; ? Extract&lt;Identity&lt;VariantTypeSpread&lt;T&gt;[keyof T]&gt;, Record&lt;...&gt;&gt; : Identity&lt;...&gt;
import VariantOf">VariantOf</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div><div class="line dim">Â </div><div class="line highlight"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const dog: {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const ClassyAnimal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (barkVolume: number) =&gt; Dog, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, () =&gt; (Anonymous class), &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">ClassyAnimal</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) dog: (barkVolume: number) =&gt; {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#A8A8B1">(4)</span><span style="color:#FFFFFF">;</span></div><div class="line highlight"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const isDog: boolean">isDog</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const dog: {
    type: &quot;dog&quot;;
    bark: () =&gt; void;
}">dog</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">instanceof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="class Dog">Dog</data-lsp></span><span style="color:#FFFFFF">; </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> true!</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_31ik" id="complications">Complications<a aria-hidden="true" class="hash-link" href="#complications" title="Direct link to heading">â€‹</a></h2><p>If only real-world use always resembled ideal cases. Here are some ways to complicate the setup for various purposes.</p><ul><li>Computed keys allow for the type literals to be based on a pre-existing enum or const object.</li><li>Top-level constructors allow for fp-like tags (though be warned, they are still polymorphic variants)</li><li>Labels that don&#x27;t match the type literals they generate can be useful for scoped types or supporting legacy protocols.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="computed-keys">Computed Keys<a aria-hidden="true" class="hash-link" href="#computed-keys" title="Direct link to heading">â€‹</a></h3><p>In the earlier examples we defined a variant template as an object literal. The keys of the literal are what will become the types of each variant. However, the library is perfectly happy to accept computed keys including constants objects or string literals.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) dog: &quot;dog&quot;">dog</data-lsp>: </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) cat: &quot;cat&quot;">cat</data-lsp>: </span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) snake: &quot;snake&quot;">snake</data-lsp>: </span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">as</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">const</span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    [</span><span style="color:#FFFFFF"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) dog: &quot;dog&quot;">dog</data-lsp></span><span style="color:#D6DBDB">]: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    [</span><span style="color:#FFFFFF"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) cat: &quot;cat&quot;">cat</data-lsp></span><span style="color:#D6DBDB">]: </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    [</span><span style="color:#FFFFFF"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) snake: &quot;snake&quot;">snake</data-lsp></span><span style="color:#D6DBDB">]: (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">})</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) dog: &quot;dog&quot;">dog</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) cat: &quot;cat&quot;">cat</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) snake: &quot;snake&quot;">snake</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">} </span><span style="color:#A8A8B1">as</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}&gt;(template: {
    dog: (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    };
    cat: (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    };
    snake: (name: string, pattern?: string) =&gt; {
        ...;
    };
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    [</span><span style="color:#F56565"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) dog: &quot;dog&quot;">dog</data-lsp>]: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt;(defaults?: Partial&lt;{
    name: string;
    favoriteBall?: string | undefined;
}&gt; | undefined): (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) favoriteBall?: string | undefined">favoriteBall</data-lsp></span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    [</span><span style="color:#F56565"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) cat: &quot;cat&quot;">cat</data-lsp>]: <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    name: string;
    furnitureDamaged: number;
}&gt;(defaults?: Partial&lt;{
    name: string;
    furnitureDamaged: number;
}&gt; | undefined): (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    [</span><span style="color:#F56565"><data-lsp lsp="const AniType: {
    readonly dog: &quot;dog&quot;;
    readonly cat: &quot;cat&quot;;
    readonly snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) snake: &quot;snake&quot;">snake</data-lsp>]: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It&#x27;s also possible to use a string enum to similar effect.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">enum</span><span style="color:#D6DBDB"> <data-lsp lsp="enum AniType">AniType</data-lsp> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF"><data-lsp lsp="(enum member) AniType.dog = &quot;dog&quot;">dog</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF"><data-lsp lsp="(enum member) AniType.cat = &quot;cat&quot;">cat</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF"><data-lsp lsp="(enum member) AniType.snake = &quot;snake&quot;">snake</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">enum</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="enum AniType">AniType</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565"><data-lsp lsp="(enum member) AniType.dog = &quot;dog&quot;">dog</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565"><data-lsp lsp="(enum member) AniType.cat = &quot;cat&quot;">cat</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565"><data-lsp lsp="(enum member) AniType.snake = &quot;snake&quot;">snake</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Though my recommendation for <code>AniType</code>&#x27;s definition would be <a href="/variant/docs/next/book/catalog">catalog</a>.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const AniType: {
    dog: &quot;dog&quot;;
    cat: &quot;cat&quot;;
    snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="Create a catalog object from a set of strings.

(alias) catalog&lt;&quot;dog&quot; | &quot;cat&quot; | &quot;snake&quot;&gt;(strings: (&quot;dog&quot; | &quot;cat&quot; | &quot;snake&quot;)[]): {
    dog: &quot;dog&quot;;
    cat: &quot;cat&quot;;
    snake: &quot;snake&quot;;
} (+2 overloads)
import catalog">catalog</data-lsp></span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const AniType: {
    dog: &quot;dog&quot;;
    cat: &quot;cat&quot;;
    snake: &quot;snake&quot;;
}">AniType</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="Create a catalog object from a set of strings.

(alias) catalog&lt;&quot;dog&quot; | &quot;cat&quot; | &quot;snake&quot;&gt;(strings: (&quot;dog&quot; | &quot;cat&quot; | &quot;snake&quot;)[]): {
    dog: &quot;dog&quot;;
    cat: &quot;cat&quot;;
    snake: &quot;snake&quot;;
} (+2 overloads)
import catalog">catalog</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_31ik" id="top-level-constructors">Top-level Constructors<a aria-hidden="true" class="hash-link" href="#top-level-constructors" title="Direct link to heading">â€‹</a></h3><p>I find great utility in consolidating the relevant cases, but I&#x27;m sympathetic to the desire to have these tag constructors as top-level functions in the scope, rather than being under <code>Animal</code>. This works just fine. The object <code>Animal</code> is very intentionally just a loose collection of the constructors, destructure or regroup it as you wish.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="const cat: VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt;">cat</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="const dog: VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;">dog</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="const snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const garfield: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}">garfield</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp></span><span style="color:#D6DBDB">({<data-lsp lsp="(property) name: string">name</data-lsp>: </span><span style="color:#63A5A5">&#x27;Garfield&#x27;</span><span style="color:#D6DBDB">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp>: </span><span style="color:#4EADAD">12</span><span style="color:#D6DBDB">});</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const echidna: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">echidna</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const snake: (name: string, pattern?: string | undefined) =&gt; {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Echidna&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;speckled&#x27;</span><span style="color:#D6DBDB">);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="const cat: VariantCreator&lt;&quot;cat&quot;, (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    name: string;
    furnitureDamaged: number;
}, &quot;type&quot;&gt;">cat</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="const dog: VariantCreator&lt;&quot;dog&quot;, (input: {
    name: string;
    favoriteBall?: string | undefined;
}) =&gt; {
    name: string;
    favoriteBall?: string | undefined;
}, &quot;type&quot;&gt;">dog</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="const snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Animal: {
    cat: VariantCreator&lt;&quot;cat&quot;, (input: {
        name: string;
        furnitureDamaged: number;
    }) =&gt; {
        name: string;
        furnitureDamaged: number;
    }, &quot;type&quot;&gt;;
    dog: VariantCreator&lt;&quot;dog&quot;, (input: {
        name: string;
        favoriteBall?: string | undefined;
    }) =&gt; {
        name: string;
        favoriteBall?: string | undefined;
    }, &quot;type&quot;&gt;;
    snake: VariantCreator&lt;...&gt;;
}">Animal</data-lsp></span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const garfield: {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}">garfield</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="const cat: (input: {
    name: string;
    furnitureDamaged: number;
}) =&gt; {
    type: &quot;cat&quot;;
    name: string;
    furnitureDamaged: number;
}">cat</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{<data-lsp lsp="(property) name: string">name</data-lsp>: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Garfield</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, <data-lsp lsp="(property) furnitureDamaged: number">furnitureDamaged</data-lsp>: </span><span style="color:#A8A8B1">12</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const echidna: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">echidna</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="const snake: (name: string, pattern?: string | undefined) =&gt; {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Echidna</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">speckled</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The instance type for <code>cat</code> can be retrieved as <code>ReturnType&lt;typeof cat&gt;</code>. However. there&#x27;s nothing wrong with exporing the constructors at the top level and also exporting the Animal type. Doing so means consumers still have the ability to type something as <code>Animal&lt;&#x27;cat&#x27;&gt;</code>, which will save you some typing and duplication of effort.</p><p>Under the hood, <code>variant()</code> creates variant constructors by calling the function <code>variation()</code>. This function can be used directly to create variant constructors at the top level.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variation: &lt;T extends string, F extends Func = () =&gt; {}&gt;(type: T, creator?: F | undefined) =&gt; VariantCreator&lt;T, F extends VariantCreator&lt;string, infer VF, &quot;type&quot;&gt; ? VF : F, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variation&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}&gt;(type: &quot;snake&quot;, creator?: ((name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}) | undefined): VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">,  (</span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#D6DBDB">}));</span></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const echidna: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">echidna</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="const snake: (name: string, pattern?: string | undefined) =&gt; {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Echidna&#x27;</span><span style="color:#D6DBDB">,  </span><span style="color:#63A5A5">&#x27;speckled&#x27;</span><span style="color:#D6DBDB">);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variation: &lt;T extends string, F extends Func = () =&gt; {}&gt;(type: T, creator?: F | undefined) =&gt; VariantCreator&lt;T, F extends VariantCreator&lt;string, infer VF, &quot;type&quot;&gt; ? VF : F, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const snake: VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;">snake</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variation&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}&gt;(type: &quot;snake&quot;, creator?: ((name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}) | undefined): VariantCreator&lt;&quot;snake&quot;, (name: string, pattern?: string) =&gt; {
    name: string;
    pattern: string;
}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,  </span><span style="color:#A8A8B1">(</span><span style="color:#F56565"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(parameter) pattern: string">pattern</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) name: string">name</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(property) pattern: string">pattern</data-lsp></span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const echidna: {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">echidna</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="const snake: (name: string, pattern?: string | undefined) =&gt; {
    type: &quot;snake&quot;;
    name: string;
    pattern: string;
}">snake</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Echidna</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,  </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">speckled</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_31ik" id="differing-key-labels-and-names">Differing key labels and names<a aria-hidden="true" class="hash-link" href="#differing-key-labels-and-names" title="Direct link to heading">â€‹</a></h3><p>In many cases, the label used when referring to a variant is exactly what is used in the underlying <code>type</code> field. However, this is not always desirable.</p><ul><li>Sometimes coding conventions will dictate <code>camelCase</code> or <code>PascalCase</code> names while database/network conventions will demand <code>ALL_CAPS</code>.</li><li>The <code>UPPER_SNAKE_CASE</code> format has historically been the most common naming scheme for constant values. Perhaps you&#x27;ll need to support them to support existing code or data models.</li><li>In larger codebases, it may be necessary to start introducing scopes to avoid name collisions. These might look something like <code>@player/update</code> or <code>AUDIT::END_RECORDING</code>. These strings contain special characters and so are not valid property names, but may be required by your code. Ideally, the variant creators would manage that complexity.</li></ul><p>Using <code>variation()</code> resolves these concerns. The first parameter, the string, will be the <em>actual</em> underlying type (both at runtime and compile time). The second parameter is the function that will handle the rest of the body.</p><pre class="shiki comrade-contrast twoslash lsp" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="(alias) const variation: &lt;T extends string, F extends Func = () =&gt; {}&gt;(type: T, creator?: F | undefined) =&gt; VariantCreator&lt;T, F extends VariantCreator&lt;string, infer VF, &quot;type&quot;&gt; ? VF : F, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Action: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}">Action</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variant&lt;{
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}&gt;(template: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;">DoSomething</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variation&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}&gt;(type: &quot;DO_SOMETHING&quot;, creator?: (() =&gt; {}) | undefined): VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;DO_SOMETHING&#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}, &quot;type&quot;&gt;">LoadThing</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variation&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}&gt;(type: &quot;LOAD_THING&quot;, creator?: ((input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}) | undefined): VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;LOAD_THING&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    thingId: number;
}&gt;(defaults?: Partial&lt;{
    thingId: number;
}&gt; | undefined): (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}
import fields">fields</data-lsp></span><span style="color:#D6DBDB">&lt;{<data-lsp lsp="(property) thingId: number">thingId</data-lsp></span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    <data-lsp lsp="(property) RefreshPage: VariantCreator&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}, &quot;type&quot;&gt;">RefreshPage</data-lsp>: </span><span style="color:#F9F7F1"><data-lsp lsp="(alias) variation&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}&gt;(type: &quot;REFRESH_PAGE&quot;, creator?: (() =&gt; {}) | undefined): VariantCreator&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;REFRESH_PAGE&#x27;</span><span style="color:#D6DBDB">),</span></div><div class="line"><span style="color:#D6DBDB">})</span></div><div class="line">Â </div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const doAction: {
    type: &quot;DO_SOMETHING&quot;;
}">doAction</data-lsp></span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF"><data-lsp lsp="const Action: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}">Action</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1"><data-lsp lsp="(property) DoSomething: () =&gt; {
    type: &quot;DO_SOMETHING&quot;;
}">DoSomething</data-lsp></span><span style="color:#D6DBDB">();</span></div><div class="line"><span style="color:#FFFFFF"><data-lsp lsp="const doAction: {
    type: &quot;DO_SOMETHING&quot;;
}">doAction</data-lsp></span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF"><data-lsp lsp="(property) type: &quot;DO_SOMETHING&quot;" style="border-bottom:solid 2px lightgrey">type</data-lsp></span></div><div class="meta-line"><span class="popover-prefix">          </span><span class="popover"><div class="arrow"></div>(property) type: &quot;DO_SOMETHING&quot;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme twoslash lsp" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565"><data-lsp lsp="(alias) const variant: {
    &lt;VM extends RawVariant&gt;(template: GenericTemplate&lt;VM&gt;): Identity&lt;GenericVariantRecord&lt;VM, &quot;type&quot;&gt;&gt;;
    &lt;VM_1 extends RawVariant&gt;(template: VM_1): Identity&lt;...&gt;;
    &lt;T extends string | VariantCreator&lt;...&gt;&gt;(template: T[]): Identity&lt;...&gt;;
}
import variant">variant</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="(alias) const variation: &lt;T extends string, F extends Func = () =&gt; {}&gt;(type: T, creator?: F | undefined) =&gt; VariantCreator&lt;T, F extends VariantCreator&lt;string, infer VF, &quot;type&quot;&gt; ? VF : F, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#FFFFFF">, </span><span style="color:#F56565"><data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) function fields&lt;T extends {}&gt;(defaults?: Partial&lt;T&gt; | undefined): (...args: {} extends T ? ([input: T] | []) : [input: T]) =&gt; T
import fields">fields</data-lsp></span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Action: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}">Action</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> <data-lsp lsp="(alias) variant&lt;{
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}&gt;(template: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}): {
    ...;
} (+2 overloads)
import variant">variant</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;">DoSomething</data-lsp>: <data-lsp lsp="(alias) variation&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}&gt;(type: &quot;DO_SOMETHING&quot;, creator?: (() =&gt; {}) | undefined): VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">DO_SOMETHING</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}, &quot;type&quot;&gt;">LoadThing</data-lsp>: <data-lsp lsp="(alias) variation&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}&gt;(type: &quot;LOAD_THING&quot;, creator?: ((input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}) | undefined): VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">LOAD_THING</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, <data-lsp lsp="Describe the fields of the variation.

When used creates a function of type `(input: T) =&gt; T &amp; {type: &#x27;literal&#x27;}`

(alias) fields&lt;{
    thingId: number;
}&gt;(defaults?: Partial&lt;{
    thingId: number;
}&gt; | undefined): (input: {
    thingId: number;
}) =&gt; {
    thingId: number;
}
import fields">fields</data-lsp></span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565"><data-lsp lsp="(property) thingId: number">thingId</data-lsp></span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    <data-lsp lsp="(property) RefreshPage: VariantCreator&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}, &quot;type&quot;&gt;">RefreshPage</data-lsp>: <data-lsp lsp="(alias) variation&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}&gt;(type: &quot;REFRESH_PAGE&quot;, creator?: (() =&gt; {}) | undefined): VariantCreator&lt;&quot;REFRESH_PAGE&quot;, () =&gt; {}, &quot;type&quot;&gt;
import variation">variation</data-lsp></span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">REFRESH_PAGE</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span></div><div class="line">Â </div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const doAction: {
    type: &quot;DO_SOMETHING&quot;;
}">doAction</data-lsp></span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565"><data-lsp lsp="const Action: {
    DoSomething: VariantCreator&lt;&quot;DO_SOMETHING&quot;, () =&gt; {}, &quot;type&quot;&gt;;
    LoadThing: VariantCreator&lt;&quot;LOAD_THING&quot;, (input: {
        thingId: number;
    }) =&gt; {
        thingId: number;
    }, &quot;type&quot;&gt;;
    RefreshPage: VariantCreator&lt;...&gt;;
}">Action</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) DoSomething: () =&gt; {
    type: &quot;DO_SOMETHING&quot;;
}">DoSomething</data-lsp></span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#F56565"><data-lsp lsp="const doAction: {
    type: &quot;DO_SOMETHING&quot;;
}">doAction</data-lsp></span><span style="color:#FFFFFF">.<data-lsp lsp="(property) type: &quot;DO_SOMETHING&quot;" style="border-bottom:solid 2px lightgrey">type</data-lsp></span></div><div class="meta-line"><span class="popover-prefix">          </span><span class="popover"><div class="arrow"></div>(property) type: &quot;DO_SOMETHING&quot;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><code>variation()</code> can also be used individually, similarly to <code>createAction</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/variant/docs/next/tutorial/part-zero"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Introducing &quot;Kind of Super&quot;</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/variant/docs/next/book/scoped"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scoped Variants<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#defining-bodies" class="table-of-contents__link toc-highlight">Defining Bodies</a><ul><li><a href="#for-empty-bodies" class="table-of-contents__link toc-highlight">For empty bodies</a></li><li><a href="#for-one-piece-of-data" class="table-of-contents__link toc-highlight">For one piece of data</a></li><li><a href="#for-one-or-more-named-fields" class="table-of-contents__link toc-highlight">For one or more named fields</a></li><li><a href="#for-classes" class="table-of-contents__link toc-highlight">For classes</a></li></ul></li><li><a href="#complications" class="table-of-contents__link toc-highlight">Complications</a><ul><li><a href="#computed-keys" class="table-of-contents__link toc-highlight">Computed Keys</a></li><li><a href="#top-level-constructors" class="table-of-contents__link toc-highlight">Top-level Constructors</a></li><li><a href="#differing-key-labels-and-names" class="table-of-contents__link toc-highlight">Differing key labels and names</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.5a021830.js"></script>
<script src="/variant/assets/js/main.8f3eed5b.js"></script>
</body>
</html>