<!doctype html>
<html class="docs-version-2.1.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Blog Atom Feed"><title data-react-helmet="true">Grouping | Variant</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://paarthenon.github.io/variant/docs/use/grouping"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-react-helmet="true" property="og:title" content="Grouping | Variant"><meta data-react-helmet="true" name="description" content="A variant&#x27;s possible cases are most useful in context. The variant for Diamonds could mean any number of things, but the intended meaning becomes clear when Diamonds ♦ is placed next to Spades ♠, Hearts ♥, and Clubs ♣. In general we call this collection of tag constructors the Variant Module. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates."><meta data-react-helmet="true" property="og:description" content="A variant&#x27;s possible cases are most useful in context. The variant for Diamonds could mean any number of things, but the intended meaning becomes clear when Diamonds ♦ is placed next to Spades ♠, Hearts ♥, and Clubs ♣. In general we call this collection of tag constructors the Variant Module. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates."><link data-react-helmet="true" rel="shortcut icon" href="/variant/img/variant.ico"><link data-react-helmet="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/use/grouping"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/grouping" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/grouping" hreflang="x-default"><link rel="stylesheet" href="/variant/assets/css/styles.46d049e9.css">
<link rel="preload" href="/variant/assets/js/runtime~main.67a1a800.js" as="script">
<link rel="preload" href="/variant/assets/js/main.b3784a81.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev 🔨</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/use/grouping">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">☕ API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌒</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌔</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">User Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/variant">Variant</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/variant/docs/use/grouping">Grouping</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/matching">Matching</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/redux">React + Redux ⚛️</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Articles</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/variant/docs/api">☕ API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Grouping</h1></header><p>A variant&#x27;s possible cases are most useful <em>in context</em>. The variant for <code>Diamonds</code> could mean any number of things, but the intended meaning becomes clear when <code>Diamonds ♦</code> is placed next to <code>Spades ♠</code>, <code>Hearts ♥</code>, and <code>Clubs ♣</code>. In general we call this collection of tag constructors the <strong>Variant Module</strong>. This module can be constructed in several ways and every method is compatible with the others. Feel free to mix and match styles as the situation dictates.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-direct-approach"></a>The Direct Approach<a class="hash-link" href="#the-direct-approach" title="Direct link to heading">#</a></h3><p>The underlying type of every variant module will be a simple JavaScript object. The keys of this object will be the names of the variant&#x27;s types (its tags), and the values will be the tag constructors. You can make this object yourself.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;dog&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;cat&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    snake: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">, (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">})),</span></div><div class="line"><span style="color:#D6DBDB">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    dog: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">dog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">cat</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>But as you&#x27;ll see, you&#x27;ll often use <code>variantModule</code> or <code>variantList</code> instead, two functions that save a little time and headache.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="variantmodule"></a><code>variantModule()</code><a class="hash-link" href="#variantmodule" title="Direct link to heading">#</a></h3><p>The <code>variantModule()</code> function resolves two minor issues with what we just saw, and is the <strong>recommended</strong> way to create such modules.</p><ol><li>The names of each type are no longer duplicated.</li><li>There aren&#x27;t any more tedious <code>variant(...)</code> calls.</li></ol><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line highlight"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line dim"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line dim"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line dim"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line highlight"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>To create a type with no body, include the property name but set it to the empty object, <code>{}</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">    bird: {},</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">    bird: </span><span style="color:#A8A8B1">{}</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>You may also provide <code>nil</code>, or <code>undefined</code>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="variantlist"></a><code>variantList()</code><a class="hash-link" href="#variantlist" title="Direct link to heading">#</a></h3><p>The <code>variantList()</code> function allows the user to use an <em>array</em> of variants instead of an object. The elements of this array may be calls to the <code>variant()</code> function <em>or</em> a string. Providing the string <code>&#x27;Diamonds&#x27;</code> is equivalent to calling <code>variant(&#x27;Diamonds&#x27;)</code> This function offers two main advantages:</p><ol><li><p>composition of existing variants</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">bird</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WingedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.bird,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p>the ability to use strings to quickly initialize enum-like variants.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Suit</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span><span style="color:#63A5A5">&#x27;Spades&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Hearts&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Clubs&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;Diamonds&#x27;</span><span style="color:#D6DBDB">]),</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Suit</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Spades</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Hearts</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Clubs</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Diamonds</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="so-why-use-the-direct-approach"></a>So why use the direct approach?<a class="hash-link" href="#so-why-use-the-direct-approach" title="Direct link to heading">#</a></h3><p>If <code>variantModule()</code> and <code>variantList()</code> are so convenient, why make the object literal yourself?</p><p>Well, two reasons.</p><ol><li><p><strong>You&#x27;re mixing styles.</strong> <code>variantList()</code> is better suited for scooping up specific forms and passing them on, so we might use this to save ourselves effort while building the <code>Mammal</code> module by pulling from the <code>Animal</code> module we created earlier.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Mammal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    squirrel: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;squirrel&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{numAcorns</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    ]);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Mammal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    squirrel: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">squirrel</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">numAcorns</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#FFFFFF">variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog,</span></div><div class="line"><span style="color:#FFFFFF">        </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat,</span></div><div class="line"><span style="color:#FFFFFF">    ]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#FFFFFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></li><li><p><strong>Your property names and type names are different.</strong> In these examples my type names are pretty simple and are also valid property names. Depending on the conventions of your codebase this may not be possible. </p><p>Legacy support may be needed to achieve continuity with data from the time java programmers would toss around <code>ALL_CAPS_MESSAGE_CONSTANTS</code> with no regard to the fact that may become unfashionable someday. <em>The nerve</em>.</p><p>In some react projects, actions or other variant types are <em>scoped</em>, or <em>namespaced</em>, resulting in type names like <code>@action/ADD_ANIMAL</code>. This is not a valid property name and so it may be desirable to use a more friendly name as the key.. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    addAnimal: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;@action/ADD_ANIMAL&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">payload</span><span style="color:#D6DBDB">&lt;Animal&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    callAnimal: </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;@action/CALL_ANIMAL_BY_NAME&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    addAnimal: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">@action/ADD_ANIMAL</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, payload</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    callAnimal: variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">@action/CALL_ANIMAL_BY_NAME</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span></div><div class="line"><span style="color:#FFFFFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It&#x27;s much easier to call <code>Action.addAnimal(...)</code> than <code>Action[&#x27;@action/ADD_ANIMAL&#x27;](...)</code>. Rest assured the variant library functions have all been designed to work with the <em>actual</em> type of the generated object, even when that made the type signatures of those functions really frustrating to write.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="checking-for-membership"></a>Checking for membership<a class="hash-link" href="#checking-for-membership" title="Direct link to heading">#</a></h2><p>You may want to determine whether or not an object out in the wild is an <code>Animal</code> or not. Use the <code>isOfVariant</code> function to do so.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">declare</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">var</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">x</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">object</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Found animal named&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">declare</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">var</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">x</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">object</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Found animal named</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">x</span><span style="color:#FFFFFF">.name</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Note this is operating under the assumption you have relatively unique names for your variants. This isn&#x27;t inspecting the object structure, just the <code>type</code> property.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="ad-hoc-matching"></a>Ad-hoc matching<a class="hash-link" href="#ad-hoc-matching" title="Direct link to heading">#</a></h3><p>It&#x27;s easy to construct a variant module on the fly with <code>variantList</code>. This will still be a valid comparison. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">x</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">]))) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Received a four legged animal&#x27;</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">x</span><span style="color:#FFFFFF">, variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat, </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog]</span><span style="color:#A8A8B1">)))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Received a four legged animal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="subsets-and-combinations"></a>Subsets and Combinations<a class="hash-link" href="#subsets-and-combinations" title="Direct link to heading">#</a></h2><p>Getting to the &quot;Algebra&quot; of algebraic data types, variants can be mixed and matched in a number of ways.</p><blockquote><p>🧙 If you have a functional programming background, <em><code>variant()</code> is a factory function to generate tag constructors of <a href="https://www.cs.cornell.edu/courses/cs3110/2019sp/textbook/data/polymorphic_variants.html" target="_blank" rel="noopener noreferrer">polymorphic variants</a>.</em> If you don&#x27;t have a functional programming background, ignore that sentence.</p></blockquote><p>Let&#x27;s begin with an expanded version of the <code>Animal</code> variant we&#x27;ve been using:</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line"><span style="color:#D6DBDB">    pegasus: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{color</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, magicType</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Arcane&#x27;</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Divine&#x27;</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    bird: </span><span style="color:#FFFFFF">nil</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">}</span></div><div class="line"><span style="color:#9BB7A7">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    pegasus: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">color</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">magicType</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Arcane</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Divine</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    bird: </span><span style="color:#F56565">nil</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span></div><div class="line"><span style="color:#A8A8B1">...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="subsets"></a>Subsets<a class="hash-link" href="#subsets" title="Direct link to heading">#</a></h3><p>Note the new <code>pegasus</code> and <code>bird</code> cases. These neatly fit into a new subcategory, <code>WingedAnimal</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">bird</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">flap</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> WingedAnimal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> {</span><span style="color:#9BB7A7">...</span><span style="color:#D6DBDB">} </span></div><div class="line"></div><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isOfVariant</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">WingedAnimal</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#506565">// a is now known to be an WingedAnimal</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#506565">// so this is safe.</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">flap</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">a</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WingedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.bird,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> flap </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">WingedAnimal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#A8A8B1">...</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isOfVariant</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">WingedAnimal</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> a is now known to be an WingedAnimal</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> so this is safe.</span></div><div class="line"><span style="color:#FFFFFF">    flap</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">a</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Our privileged pegasus can also claim membership to the group of animals with four legs.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">FourLeggedAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">cat</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">dog</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pegasus</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">FourLeggedAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.cat,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.pegasus,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>By maintaining a subset like <code>WingedAnimal</code> as its own type you gain the ability to write functions that are scoped to <code>WingedAnimal</code>. Any changes to <code>WingedAnimal</code> are centralized, and will cause the compiler to inform you of any handlers that don&#x27;t process the new cases.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="combinations"></a>Combinations<a class="hash-link" href="#combinations" title="Direct link to heading">#</a></h3><p>We could also have constructed this in the other direction—creating the subsets first and then combining them into the final <code>Animal</code> object. The pegasus being both winged and four legged makes our current set of animals difficult to work with. For this example we&#x27;ll use a different setup.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">LandAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, daysSinceDamage</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div><div class="line"></div><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">WaterAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line"><span style="color:#D6DBDB">    goldfish: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{memoryInSeconds</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">LandAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">daysSinceDamage</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">WaterAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line"><span style="color:#FFFFFF">    goldfish: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">memoryInSeconds</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>From this point it&#x27;s easy to create the combined set of <code>Animal</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">LandAnimal</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">...</span><span style="color:#FFFFFF">WaterAnimal</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> {</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">LandAnimal</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">...</span><span style="color:#F56565">WaterAnimal</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">};</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>A new list (perhaps <code>SkyAnimal</code>) could be added in the future and it would simply be another entry next to <code>LandAnimal</code> and <code>WaterAnimal</code>. We could complicate this yet further with a new genre-bending list of animals, <code>AmphibiousAnimals</code>.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">AmphibiousAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantList</span><span style="color:#D6DBDB">([</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;frog&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{color</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;()),</span></div><div class="line"><span style="color:#D6DBDB">]);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">AmphibiousAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantList</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">[</span></div><div class="line"><span style="color:#FFFFFF">    variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">frog</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;{</span><span style="color:#F56565">color</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string}&gt;())</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">]</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Amphibious animals may be encountered in both <em>water</em> and on <em>land</em>. How should this be expressed? It may be tempting to merge <code>AmphibiousAnimal</code> into the lists of <code>LandAnimal</code> and <code>WaterAnimal</code>, but that would be a step backward because we then lose the ability to identify <em>land only</em> or <em>water only</em> animals. </p><p>The better approach would be to use our friend the union type. Remember that variants are designed to work with vanilla typescript and will work seamlessly with <a href="https://www.typescriptlang.org/docs/handbook/unions-and-intersections.html" target="_blank" rel="noopener noreferrer">union and intersection types</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="variants-in-a-union-type"></a>Variants in a union type<a class="hash-link" href="#variants-in-a-union-type" title="Direct link to heading">#</a></h3><p>Assume there is a function that was meant to handle animals encountered on land. It took a parameter <code>animal: LandAnimal</code>. To expand its scope, change the type of the parameter from <code>LandAnimal</code> to <code>LandAnimal | AmphibiousAnimal</code>. TypeScript will understand that <code>frog</code> is now a valid case your your <code>match</code> or <code>switch</code> statements will have to handle.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#506565">// I&#x27;m sorry</span></div><div class="line"><span style="color:#C24E4B">function</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">runoverAnimal</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">roadKill</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> LandAnimal </span><span style="color:#9BB7A7">|</span><span style="color:#D6DBDB"> AmphibiousAnimal) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#9BB7A7">return</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">match</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">roadKill</span><span style="color:#D6DBDB">, {</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Don&#x27;t make me go there :(.`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">cat</span><span style="color:#D6DBDB">: ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">`Poor </span><span style="color:#D6DBDB">${</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">}</span><span style="color:#63A5A5">...`</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">        </span><span style="color:#F9F7F1">frog</span><span style="color:#D6DBDB">: </span><span style="color:#FFFFFF">_</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;Was that a frog?&#x27;</span><span style="color:#D6DBDB">,</span></div><div class="line"><span style="color:#D6DBDB">    })</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">//</span><span style="color:#FFFFFF"> I&#x27;m sorry</span></div><div class="line"><span style="color:#A8A8B1">function</span><span style="color:#FFFFFF"> runoverAnimal</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">roadKill</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">LandAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">|</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">AmphibiousAnimal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#A8A8B1">return</span><span style="color:#FFFFFF"> match</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">roadKill</span><span style="color:#FFFFFF">, {</span></div><div class="line"><span style="color:#FFFFFF">        dog: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Don&#x27;t make me go there :(.</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        cat: </span><span style="color:#A8A8B1">({</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">})</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">`</span><span style="color:#A8A8B1">Poor ${</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">}...</span><span style="color:#FFFFFF">`</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">        frog: </span><span style="color:#F56565">_</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Was that a frog?</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">,</span></div><div class="line"><span style="color:#FFFFFF">    }</span><span style="color:#A8A8B1">)</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="q--a"></a>Q &amp; A<a class="hash-link" href="#q--a" title="Direct link to heading">#</a></h3><ul><li><p><strong>Should I use singular or plural names for modules?</strong></p><ul><li>Do you want to write <code>Animal.dog(...)</code> or <code>Animals.dog(...)</code>? Personally I like singular because it makes type annotations read more clearly. I like <code>x: Animal</code> over <code>x: Animals</code>, since that value is singular. Nothing breaks if you go plural.</li></ul></li><li><p><strong>Should I make a type for each variant module?</strong></p><ul><li><p>I do. This gives you the <code>Animal</code> and <code>Animal&lt;&#x27;cat&#x27;&gt;</code> types, which are quite convenient and improve ergonomics by offering intellisense. One of my motivations in writing this library was to simplify the fragile process of discriminant union creation and type generation for my team. Again, your consumers, including your own team members using your types, do not experience this complexity.</p><p>Some users find the full type intimidating or just plain frustrating. <code>VariantOf</code> is designed with a simpler form is common in the community:</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">type</span><span style="color:#D6DBDB"> Animal </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> VariantOf&lt;</span><span style="color:#9BB7A7">typeof</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">&gt;;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">type</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">VariantOf</span><span style="color:#A8A8B1">&lt;</span><span style="color:#A8A8B1">typeof</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>I admit this is much clearer for the average TypeScript user. You retain <code>Animal</code>, but lose <code>Animal&lt;&#x27;cat&#x27;&gt;</code>. You can compute <code>Animal&lt;&#x27;cat&#x27;&gt;</code> through <code>Extract&lt;Animal, {type: &#x27;cat&#x27;}&gt;</code>. The disadvantage here is you lose the restrictions on the type property (&#x27;cat&#x27;), and autocomplete with it. So if at some point your application changes from <code>cat</code> to <code>feline</code>, <code>Animal&lt;&#x27;cat&#x27;&gt;</code> will now raise an error to alert you that it needs updating. <code>Extract&lt;Animal, {type: &#x27;cat&#x27;}&gt;</code> would not.</p><p><a href="/variant/docs/articles/that-type">See the type page explanation</a>.</p></li></ul></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/variant/docs/use/variant"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Variant</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/variant/docs/use/matching"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Matching »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-direct-approach" class="table-of-contents__link">The Direct Approach</a></li><li><a href="#variantmodule" class="table-of-contents__link"><code>variantModule()</code></a></li><li><a href="#variantlist" class="table-of-contents__link"><code>variantList()</code></a></li><li><a href="#so-why-use-the-direct-approach" class="table-of-contents__link">So why use the direct approach?</a></li><li><a href="#checking-for-membership" class="table-of-contents__link">Checking for membership</a><ul><li><a href="#ad-hoc-matching" class="table-of-contents__link">Ad-hoc matching</a></li></ul></li><li><a href="#subsets-and-combinations" class="table-of-contents__link">Subsets and Combinations</a><ul><li><a href="#subsets" class="table-of-contents__link">Subsets</a></li><li><a href="#combinations" class="table-of-contents__link">Combinations</a></li><li><a href="#variants-in-a-union-type" class="table-of-contents__link">Variants in a union type</a></li><li><a href="#q--a" class="table-of-contents__link">Q &amp; A</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.67a1a800.js"></script>
<script src="/variant/assets/js/main.b3784a81.js"></script>
</body>
</html>