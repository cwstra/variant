<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/variant/blog/rss.xml" title="Variant Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/variant/blog/atom.xml" title="Variant Blog Atom Feed"><title data-react-helmet="true">Variant | Variant</title><meta data-react-helmet="true" property="og:url" content="https://paarthenon.github.io/variant/docs/use/variant"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.1.0"><meta data-react-helmet="true" property="og:title" content="Variant | Variant"><meta data-react-helmet="true" name="description" content="A variant is a single object that can take many forms. Each of those forms has a type, sometimes called a tag, and optionally a body that tells us what kind of data we have available if in that form. In the introduction we saw how several types of animals could be grouped into the module Animal. In this section we&#x27;ll take a look at the underlying building block that variantModule and variantList use, the variant() function, which can also be used alone."><meta data-react-helmet="true" property="og:description" content="A variant is a single object that can take many forms. Each of those forms has a type, sometimes called a tag, and optionally a body that tells us what kind of data we have available if in that form. In the introduction we saw how several types of animals could be grouped into the module Animal. In this section we&#x27;ll take a look at the underlying building block that variantModule and variantList use, the variant() function, which can also be used alone."><link data-react-helmet="true" rel="shortcut icon" href="/variant/img/variant.ico"><link data-react-helmet="true" rel="canonical" href="https://paarthenon.github.io/variant/docs/use/variant"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/variant" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://paarthenon.github.io/variant/docs/use/variant" hreflang="x-default"><link rel="stylesheet" href="/variant/assets/css/styles.07a45d33.css">
<link rel="preload" href="/variant/assets/js/runtime~main.d75620fe.js" as="script">
<link rel="preload" href="/variant/assets/js/main.eec6d4ea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/variant/"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Variant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/variant/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/variant/docs/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/variant/docs/intro">2.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/variant/docs/next/intro">3.0.0-dev 🔨</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/variant/docs/use/variant">2.1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/variant/docs/api">☕ API</a><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌒</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌔</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/variant/"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/variant/img/variant_logo.png" alt="Variant Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Variant</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/variant/docs/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/about">About</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/variant/docs/next/intro">3.0.0-dev 🔨</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/variant/docs/use/variant">2.1.0</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/api">☕ API</a></li><li class="menu__list-item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/motivation">Motivation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/variant/docs/use/variant">Variant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/grouping">Grouping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/matching">Matching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/filter">Filtering &amp; Analyzing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/advanced-creation">Advanced Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/use/redux">React + Redux ⚛️</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/variant/docs/cheat">Cheat Sheet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Articles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/that-type">That type tho...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/type-name">&#x27;type&#x27;, &#x27;tag&#x27;, and &#x27;kind&#x27;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/articles/augment">🔮 Augmenting variants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/variant/docs/changelog">Changelog</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/variant/docs/api">☕ API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 2.1.0</span><div class="markdown"><header><h1 class="h1Heading_27L5">Variant</h1></header><p>A <strong>variant</strong> is a single object that can take many forms. Each of those forms has a <em>type</em>, sometimes called a <em>tag</em>, and optionally a <em>body</em> that tells us what kind of data we have available if in that form. In the introduction we saw how several types of animals could be grouped into the <em>module</em> <code>Animal</code>. In this section we&#x27;ll take a look at the underlying building block that <code>variantModule</code> and <code>variantList</code> use, the <code>variant()</code> function, which can also be used alone.</p><p>At this point we can express the data, but I&#x27;d like the ability to interact with our virtual menagerie. Let&#x27;s create our first <em>action</em> or command, <code>AddAnimal</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="variant"></a><code>variant()</code><a class="hash-link" href="#variant" title="Direct link to heading">#</a></h3><p>Calling <code>variant()</code> with the name of a type returns a <a href="https://en.wikipedia.org/wiki/Algebraic_data_type#Explanation" target="_blank" rel="noopener noreferrer"><em>tag constructor</em></a> (a.k.a. <a href="https://redux.js.org/basics/actions" target="_blank" rel="noopener noreferrer"><em>action creator</em></a>) for that type.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">variant</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">addAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;AddAnimal&#x27;</span><span style="color:#D6DBDB">);</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">addAnimal</span><span style="color:#D6DBDB">(); </span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">variant</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">addAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">AddAnimal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> addAnimal</span><span style="color:#A8A8B1">()</span><span style="color:#FFFFFF">; </span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>result:</strong> <code>typeof action: { type: &#x27;AddAnimal&#x27; }</code></p><p>To add additional properties, provide a function as a second parameter. The arguments of this function will become the arguments of the tag constructor, and the properties in the returned object will become the properties of that form of the variant. The <code>type: ...</code> property will be merged in for you. Ultimately this is how every variant creation function works. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">variant</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line dim"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> {</span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;...&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">addAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;AddAnimal&#x27;</span><span style="color:#D6DBDB">, (</span><span style="color:#FFFFFF">animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">}));</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">addAnimal</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">({name: </span><span style="color:#63A5A5">&#x27;Cerberus&#x27;</span><span style="color:#D6DBDB">})); </span></div><div class="line dim"><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">); </span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">variant</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line dim"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">...</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">addAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">AddAnimal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> addAnimal</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{name: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Cerberus</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF">; </span></div><div class="line dim"><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">; </span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>result:</strong> <code>typeof action: { type: &#x27;AddAnimal&#x27;, animal: Animal }</code></p><p><strong>prints:</strong> <code>{ type: &#x27;AddAnimal&#x27;, animal: { type: &#x27;dog&#x27;, name: &#x27;Cerberus&#x27; }}</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="payload"></a><code>payload()</code><a class="hash-link" href="#payload" title="Direct link to heading">#</a></h3><p>Taking a single variable and storing it as data like this is a <em>very</em> common pattern. The <code>payload()</code> helper function is here to make that even simpler.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">addAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;AddAnimal&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">payload</span><span style="color:#D6DBDB">&lt;Animal&gt;());</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">addAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">AddAnimal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, payload</span><span style="color:#A8A8B1">&lt;</span><span style="color:#F56565">Animal</span><span style="color:#A8A8B1">&gt;())</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The downside of <code>payload()</code> is that it only takes one element, and it will always be called <code>&#x27;payload&#x27;</code>. In the case of <code>addAnimal</code> this is fine. It&#x27;s clear from context that the payload of the &#x27;AddAnimal&#x27; command is the animal to be added. However, if we need to use a name for the field or use multiple fields then it&#x27;s time for the next helper function. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fields"></a><code>fields()</code><a class="hash-link" href="#fields" title="Direct link to heading">#</a></h3><p>We saw <code>fields</code> already in our quick start example. Here&#x27;s that again for reference. </p><blockquote><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">export</span><span style="color:#D6DBDB"> </span><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variantModule</span><span style="color:#D6DBDB">({</span></div><div class="line dim"><span style="color:#D6DBDB">    dog: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, favoriteBall</span><span style="color:#9BB7A7">?:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line highlight"><span style="color:#D6DBDB">    cat: </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, furnitureDamaged</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">number</span><span style="color:#D6DBDB">}&gt;(),</span></div><div class="line highlight"><span style="color:#D6DBDB">    </span><span style="color:#F9F7F1">snake</span><span style="color:#D6DBDB">: (</span><span style="color:#FFFFFF">name</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">string</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;striped&#x27;</span><span style="color:#D6DBDB">) </span><span style="color:#C24E4B">=&gt;</span><span style="color:#D6DBDB"> ({</span><span style="color:#FFFFFF">name</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">}),</span></div><div class="line dim"><span style="color:#D6DBDB">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">export</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variantModule</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span></div><div class="line dim"><span style="color:#FFFFFF">    dog: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">favoriteBall</span><span style="color:#A8A8B1">?:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line highlight"><span style="color:#FFFFFF">    cat: fields</span><span style="color:#A8A8B1">&lt;</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">furnitureDamaged</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">number</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">&gt;()</span><span style="color:#FFFFFF">,</span></div><div class="line highlight"><span style="color:#FFFFFF">    snake: </span><span style="color:#A8A8B1">(</span><span style="color:#F56565">name</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">string</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">striped</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{</span><span style="color:#F56565">name</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">pattern</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">,</span></div><div class="line dim"><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></blockquote><p><code>fields()</code> is expecting an object type as its generic parameter. That object type describes the body of the variant, minus the &#x27;type&#x27; property which the library will fill in. </p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#9BB7A7">import</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">variant</span><span style="color:#D6DBDB">, {</span><span style="color:#FFFFFF">fields</span><span style="color:#D6DBDB">} </span><span style="color:#9BB7A7">from</span><span style="color:#D6DBDB"> </span><span style="color:#63A5A5">&#x27;variant&#x27;</span><span style="color:#D6DBDB">;</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">addAnimal</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">variant</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;AddAnimal&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#F9F7F1">fields</span><span style="color:#D6DBDB">&lt;{animal</span><span style="color:#9BB7A7">:</span><span style="color:#D6DBDB"> Animal}&gt;());</span></div><div class="line"></div><div class="line dim"><span style="color:#C24E4B">const</span><span style="color:#D6DBDB"> </span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB"> </span><span style="color:#9BB7A7">=</span><span style="color:#D6DBDB"> </span><span style="color:#F9F7F1">addAnimal</span><span style="color:#D6DBDB">({animal: </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">dog</span><span style="color:#D6DBDB">({name: </span><span style="color:#63A5A5">&#x27;Lily&#x27;</span><span style="color:#D6DBDB">})}); </span></div><div class="line dim"><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">action</span><span style="color:#D6DBDB">);</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line dim"><span style="color:#A8A8B1">import</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">variant</span><span style="color:#FFFFFF">, </span><span style="color:#A8A8B1">{</span><span style="color:#F56565">fields</span><span style="color:#A8A8B1">}</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">from</span><span style="color:#FFFFFF"> </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">variant</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">addAnimal</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> variant</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">AddAnimal</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, fields</span><span style="color:#A8A8B1">&lt;{</span><span style="color:#F56565">animal</span><span style="color:#A8A8B1">:</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">Animal}&gt;())</span><span style="color:#FFFFFF">;</span></div><div class="line"></div><div class="line dim"><span style="color:#A8A8B1">const</span><span style="color:#FFFFFF"> </span><span style="color:#F56565">action</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">=</span><span style="color:#FFFFFF"> addAnimal</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{animal: </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.dog</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">{name: </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Lily</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">}</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">; </span></div><div class="line dim"><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">action</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><strong>result:</strong> <code>typeof action: { type: &#x27;AddAnimal&#x27;, animal: Animal }</code></p><p><strong>prints:</strong> <code>{ type: &#x27;AddAnimal&#x27;, animal: { type: &#x27;dog&#x27;, name: &#x27;Lily&#x27; }}</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checking-for-a-specific-type"></a>Checking for a specific type<a class="hash-link" href="#checking-for-a-specific-type" title="Direct link to heading">#</a></h2><p>You may have some wild <code>animal: Animal</code> and want to check specifically if you&#x27;ve got a <code>snake</code> in your midst.</p><p>To do so, use the <code>isType</code> function.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isType</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;snake&#x27;</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Found a snake with&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;skin.&#x27;</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">typescript</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isType</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">snake</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Found a snake with</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">.pattern, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">skin.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p><code>isType</code> is a user-defined type guard, so TypeScript will narrow the type of the variable you pass in. The second parameter, the string literal (<code>&#x27;snake&#x27;</code>) will be restricted to only valid <code>type</code>s of the variant. However, it is also possible to call <code>isType</code> with the constructor itself, which some users may find more ergonomic.</p><pre class="shiki comrade-contrast" style="background-color:rgb(26, 32, 32);color:#d6dbdb"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#9BB7A7">if</span><span style="color:#D6DBDB"> (</span><span style="color:#F9F7F1">isType</span><span style="color:#D6DBDB">(</span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">Animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">snake</span><span style="color:#D6DBDB">)) {</span></div><div class="line"><span style="color:#D6DBDB">    </span><span style="color:#FFFFFF">console</span><span style="color:#D6DBDB">.</span><span style="color:#F9F7F1">log</span><span style="color:#D6DBDB">(</span><span style="color:#63A5A5">&#x27;Found a snake with&#x27;</span><span style="color:#D6DBDB">, </span><span style="color:#FFFFFF">animal</span><span style="color:#D6DBDB">.</span><span style="color:#FFFFFF">pattern</span><span style="color:#D6DBDB">, </span><span style="color:#63A5A5">&#x27;skin.&#x27;</span><span style="color:#D6DBDB">);</span></div><div class="line"><span style="color:#D6DBDB">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki Monotone-red-color-theme" style="background-color:#000000;color:#ffffff"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#A8A8B1">if</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">isType</span><span style="color:#A8A8B1">(</span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">Animal</span><span style="color:#FFFFFF">.snake</span><span style="color:#A8A8B1">))</span><span style="color:#FFFFFF"> </span><span style="color:#A8A8B1">{</span></div><div class="line"><span style="color:#FFFFFF">    </span><span style="color:#F56565">console</span><span style="color:#FFFFFF">.log</span><span style="color:#A8A8B1">(</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">Found a snake with</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#FFFFFF">, </span><span style="color:#F56565">animal</span><span style="color:#FFFFFF">.pattern, </span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">skin.</span><span style="color:#FFFFFF">&#x27;</span><span style="color:#A8A8B1">)</span><span style="color:#FFFFFF">;</span></div><div class="line"><span style="color:#A8A8B1">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>When choosing between the approaches to defining a variant, I recommend this process:</p><ol><li>If there is only one item to pass, and its purpose is clear from context, consider using <code>payload()</code>.</li><li>If there are multiple fields or a named property is preferred, use <code>fields()</code>.</li><li>If more control is desired (default elements or logging, for example) use a function.</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/variant/docs/motivation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Motivation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/variant/docs/use/grouping"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Grouping »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#variant" class="table-of-contents__link"><code>variant()</code></a></li><li><a href="#payload" class="table-of-contents__link"><code>payload()</code></a></li><li><a href="#fields" class="table-of-contents__link"><code>fields()</code></a></li><li><a href="#checking-for-a-specific-type" class="table-of-contents__link">Checking for a specific type</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/variant/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/variant/docs/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://reasonml.github.io/docs/en/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ReasonML Variants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/paarthenon/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/variant" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NPM package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Variant Contributors</div></div></div></footer></div>
<script src="/variant/assets/js/runtime~main.d75620fe.js"></script>
<script src="/variant/assets/js/main.eec6d4ea.js"></script>
</body>
</html>